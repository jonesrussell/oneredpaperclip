@import 'tailwindcss';

@import 'tw-animate-css';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';

@custom-variant dark (&:is(.dark *));

@theme inline {
    --font-sans:
        'DM Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
        'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --font-mono: 'JetBrains Mono', ui-monospace, monospace;
    --font-display: 'Fredoka', ui-sans-serif, system-ui, sans-serif;

    --radius-lg: var(--radius);
    --radius-md: calc(var(--radius) - 2px);
    --radius-sm: calc(var(--radius) - 4px);

    --color-background: var(--background);
    --color-foreground: var(--foreground);

    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);

    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);

    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);

    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);

    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);

    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);

    --color-destructive: var(--destructive);
    --color-destructive-foreground: var(--destructive-foreground);

    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);

    --color-chart-1: var(--chart-1);
    --color-chart-2: var(--chart-2);
    --color-chart-3: var(--chart-3);
    --color-chart-4: var(--chart-4);
    --color-chart-5: var(--chart-5);

    --color-sidebar: var(--sidebar-background);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-ring: var(--sidebar-ring);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
    html,
    body {
        overflow-x: hidden;
    }

    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentColor);
    }

    /* Native select dropdown: ensure options are readable (avoids white text on white in some browsers) */
    select {
        background-color: var(--popover);
        color: var(--popover-foreground);
    }
    select option {
        background-color: var(--popover);
        color: var(--popover-foreground);
    }
}

@layer utilities {
    body,
    html {
        --font-sans:
            'DM Sans', ui-sans-serif, system-ui, sans-serif,
            'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
            'Noto Color Emoji';
    }
    .font-display {
        font-family: var(--font-display);
    }
    .font-mono {
        font-family: var(--font-mono);
    }
    /* Hide native scrollbar while keeping scroll (touch/trackpad still works) */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
}

:root {
    --brand-red: hsl(0 95% 45%);
    --brand-red-hover: hsl(0 95% 38%);
    --brand-red-muted: var(--brand-red);
    --paper: hsl(32 55% 97%);
    --ink: hsl(0 0% 15%);
    --ink-muted: hsl(0 0% 45%);
    --background: hsl(32 50% 97%);
    --foreground: hsl(0 0% 12%);
    --card: hsl(35 45% 99%);
    --card-foreground: hsl(0 0% 12%);
    --popover: hsl(35 45% 99%);
    --popover-foreground: hsl(0 0% 12%);
    --primary: hsl(0 0% 12%);
    --primary-foreground: hsl(0 0% 98%);
    --secondary: hsl(32 35% 92%);
    --secondary-foreground: hsl(0 0% 14%);
    --muted: hsl(32 30% 94%);
    --muted-foreground: hsl(0 0% 48%);
    --accent: hsl(32 40% 92%);
    --accent-foreground: hsl(0 0% 14%);
    --destructive: hsl(0 84.2% 60.2%);
    --destructive-foreground: hsl(0 0% 98%);
    --border: hsl(30 20% 90%);
    --input: hsl(30 18% 90%);
    --ring: hsl(0 0% 25%);
    --chart-1: hsl(12 76% 61%);
    --chart-2: hsl(162 65% 45%);
    --chart-3: hsl(205 85% 55%);
    --chart-4: hsl(45 95% 55%);
    --chart-5: hsl(265 55% 65%);
    --radius: 1rem;
    --sidebar-background: hsl(34 45% 96%);
    --sidebar-foreground: hsl(0 0% 20%);
    --sidebar-primary: hsl(0 90% 42%);
    --sidebar-primary-foreground: hsl(0 0% 100%);
    --sidebar-accent: hsl(32 50% 90%);
    --sidebar-accent-foreground: hsl(0 0% 14%);
    --sidebar-border: hsl(30 25% 88%);
    --sidebar-ring: hsl(205 85% 55%);
    --sidebar: hsl(34 45% 96%);
    --electric-mint: hsl(162 65% 52%);
    --sunny-yellow: hsl(45 95% 60%);
    --hot-coral: hsl(12 90% 65%);
    --soft-lavender: hsl(265 55% 75%);
    --sky-blue: hsl(205 85% 65%);
}

/*
 * Use on elements that are always light (e.g. white cards, white buttons)
 * so text stays dark and readable in dark mode.
 */
.surface-light {
    --ink: hsl(0 0% 15%);
    --ink-muted: hsl(0 0% 45%);
}

/* Obsidian dark theme: purple-black base, purple accent, pink secondary, cyan highlight.
 * Follows dark mode best practices: no pure white text, surface hierarchy, card shadows, image dimming. */
.dark {
    --brand-red: hsl(0 90% 55%);
    --brand-red-hover: hsl(0 90% 62%);
    --brand-red-muted: hsl(0 90% 70%);
    /* Obsidian palette â€“ text is off-white (#F5F5F5-ish) for comfort, not pure white */
    --obsidian-bg: 260 24% 9%; /* #13111C Purple-Black (base) */
    --obsidian-surface: 252 21% 13%; /* #1E1B29 Level 1 cards */
    --obsidian-surface-2: 252 18% 17%; /* Level 2 modals/popovers */
    --obsidian-surface-3: 252 16% 21%; /* Level 3 tooltips/dropdowns */
    --obsidian-accent: 263 90% 66%; /* #8B5CF6 Purple 500 */
    --obsidian-secondary: 330 81% 60%; /* #EC4899 Pink 500 */
    --obsidian-highlight: 187 94% 43%; /* #06B6D4 Cyan 500 */
    --obsidian-text: 0 0% 96%; /* ~#F5F5F5 comfortable, not pure white */
    --obsidian-text-muted: 252 30% 78%; /* Softer than Purple 300 for hierarchy */
    --paper: hsl(var(--obsidian-surface));
    --ink: hsl(var(--obsidian-text));
    --ink-muted: hsl(var(--obsidian-text-muted));
    --background: hsl(var(--obsidian-bg));
    --foreground: hsl(var(--obsidian-text));
    --card: hsl(var(--obsidian-surface));
    --card-foreground: hsl(var(--obsidian-text));
    --popover: hsl(var(--obsidian-surface-2));
    --popover-foreground: hsl(var(--obsidian-text));
    --primary: hsl(var(--obsidian-accent));
    --primary-foreground: hsl(0 0% 100%);
    --secondary: hsl(252 20% 20%);
    --secondary-foreground: hsl(var(--obsidian-text));
    --muted: hsl(252 18% 16%);
    --muted-foreground: hsl(var(--obsidian-text-muted));
    --accent: hsl(263 45% 24%);
    --accent-foreground: hsl(var(--obsidian-text));
    --destructive: hsl(0 84% 60%);
    --destructive-foreground: hsl(0 0% 98%);
    --border: hsl(252 15% 22%);
    --input: hsl(252 15% 22%);
    --ring: hsl(var(--obsidian-highlight));
    --chart-1: hsl(var(--obsidian-accent));
    --chart-2: hsl(var(--obsidian-secondary));
    --chart-3: hsl(var(--obsidian-highlight));
    --chart-4: hsl(45 93% 58%);
    --chart-5: hsl(162 65% 52%);
    --sidebar-background: hsl(var(--obsidian-surface));
    --sidebar-foreground: hsl(var(--obsidian-text));
    --sidebar-primary: hsl(var(--obsidian-accent));
    --sidebar-primary-foreground: hsl(0 0% 100%);
    --sidebar-accent: hsl(263 45% 24%);
    --sidebar-accent-foreground: hsl(var(--obsidian-text));
    --sidebar-border: hsl(252 15% 22%);
    --sidebar-ring: hsl(var(--obsidian-highlight));
    --sidebar: hsl(var(--obsidian-surface));
    --electric-mint: hsl(162 65% 52%);
    --sunny-yellow: hsl(45 93% 58%);
    --hot-coral: hsl(12 90% 65%);
    --soft-lavender: hsl(265 55% 75%);
    --sky-blue: hsl(205 85% 65%);
    /* Elevation: subtle shadow for cards in dark mode */
    --shadow-card: 0 4px 6px -1px rgba(0, 0, 0, 0.4),
        0 2px 4px -2px rgba(0, 0, 0, 0.3);
}

@layer base {
    * {
        @apply border-border outline-ring/50;
    }
    body {
        @apply bg-background text-foreground;
    }

    /* Dark mode: image dimming, card elevation, visible focus (best practices) */
    .dark img {
        opacity: 0.9;
        filter: brightness(0.92) contrast(1.05);
    }
    .dark .bg-card {
        box-shadow: var(--shadow-card) !important;
    }
    .dark *:focus-visible {
        outline: 2px solid hsl(var(--obsidian-highlight));
        outline-offset: 2px;
    }
}

@keyframes slide-up {
    from {
        opacity: 0;
        transform: translateY(1rem);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes progress-fill {
    from {
        stroke-dashoffset: var(--circumference);
    }
    to {
        stroke-dashoffset: var(--target-offset);
    }
}

@keyframes pulse-ring {
    0%,
    100% {
        box-shadow: 0 0 0 0 var(--pulse-color, rgba(239, 68, 68, 0.4));
    }
    50% {
        box-shadow: 0 0 0 6px var(--pulse-color, rgba(239, 68, 68, 0));
    }
}

.animate-slide-up {
    animation: slide-up 0.5s ease-out both;
}
.animate-progress-fill {
    animation: progress-fill 0.7s ease-out both;
}
.animate-pulse-ring {
    animation: pulse-ring 2s ease-in-out infinite;
}

@keyframes blob-pulse {
    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.6;
        transform: scale(1.08);
    }
}
.animate-blob-pulse {
    animation: blob-pulse 6s ease-in-out infinite;
}
